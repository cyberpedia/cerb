# =============================================================================
# CERBERUS CTF PLATFORM - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update with your values

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=Cerberus
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=development
SECRET_KEY=change-this-to-a-secure-random-string-min-32-chars
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/cerberus
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Individual components (for scripts/backup_db.py)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=cerberus
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALGORITHM=HS256
PASSWORD_MIN_LENGTH=8

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# -----------------------------------------------------------------------------
# OAuth Providers (Optional - for GitHub/Google login)
# -----------------------------------------------------------------------------
OAUTH_GITHUB_CLIENT_ID=
OAUTH_GITHUB_CLIENT_SECRET=
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# File Upload
# -----------------------------------------------------------------------------
MAX_UPLOAD_SIZE_MB=10
AVATAR_UPLOAD_PATH=uploads/avatars

# -----------------------------------------------------------------------------
# MinIO / S3-Compatible Storage
# -----------------------------------------------------------------------------
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=cerberus-files
S3_SECURE=false

# -----------------------------------------------------------------------------
# RabbitMQ
# -----------------------------------------------------------------------------
RABBITMQ_URL=amqp://guest:guest@localhost:5672/
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest

# -----------------------------------------------------------------------------
# Docker / Dynamic Challenge Instances
# -----------------------------------------------------------------------------
DOCKER_REGISTRY=localhost:5000
INSTANCE_CLEANUP_INTERVAL=300
DEFAULT_INSTANCE_TTL=3600

# -----------------------------------------------------------------------------
# Backup Configuration
# -----------------------------------------------------------------------------
BACKUP_DIR=/tmp/backups
BACKUP_RETENTION_DAYS=30
